_min_copier_version: "9.0.0"
_subdirectory: template

# ── Questions ────────────────────────────────────────────────
project_name:
  default: FastAPIapp
author_name:
  default: ""
description:
  default: ""
author_email:
  default: ""
repository_url:
  default: ""
data_dir:
  default: "data"
data_directory_name:
  default: "DATASCI"
llm_endpoint:
  default: ""
mlflow_tracking_uri:
  type: str
  default: "https://"
  help: "MLflow Tracking URI"
# ── Tasks ─────────────────────────────────────────────────────
_tasks:
  - label: pull-in-common
    shell: true
    #likey want to point this to the repository instead
    command: >
      copier copy "{{ _copier_conf.src_path }}/../common" {{ project_name }}
      --overwrite
      --defaults
      -d project_name="{{ project_name }}"
      -d author_name="{{ author_name }}"
      -d description="{{ description }}"
      -d author_email="{{ author_email }}"
      -d repository_url="{{ repository_url }}"
      -d data_dir="{{ data_dir }}"
      -d data_directory_name="{{ data_directory_name }}"
      -d llm_endpoint="{{ llm_endpoint }}"

  - label: run-hook
    command: bash "{{ project_name }}/hooks/post_gen_init.sh"
    shell: true

# ── Misc ────────────────────────────────────────────────────
_skip_if_exists:
  - README.md